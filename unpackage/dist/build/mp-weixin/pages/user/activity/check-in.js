(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/activity/check-in"],{"059f":function(t,i,e){"use strict";e.r(i);var s=e("fe49"),n=e("c8b6");for(var a in n)"default"!==a&&function(t){e.d(i,t,function(){return n[t]})}(a);var c=e("2877"),r=Object(c["a"])(n["default"],s["a"],s["b"],!1,null,null,null);i["default"]=r.exports},"58b0":function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("f0b6"));function n(t){return t&&t.__esModule?t:{default:t}}var a={components:{"full-page-empty-state":s.default},data:function(){return{creditChangeTypes:{0:{text:"签到获得",icon:"assignment_turned_in"},1:{text:"购买商品奖励",icon:"add_shopping_cart"},2:{text:"购买时抵扣订单金额",icon:"redeem"}},creditHistory:[],credit:0,totalCheckInDays:0,continuousCheckInDays:0}},onShow:function(){this.loadMyCreditsRecord()},methods:{doCheckIn:function(){var i=this;this.$pin.request("GET","/commons/user/check-in",null,function(e){e.code==i.$pin.code.success?i.loadMyCreditsRecord():t.showToast({icon:"none",title:e.message})},function(i){t.showToast({icon:"none",title:"签到失败，请重试"})})},loadMyCreditsRecord:function(){var i=this;this.$pin.request("GET","/commons/user/credit-record",null,function(e){if(e.code==i.$pin.code.success){for(var s=0;s<e.data.creditHistory.length;s++)e.data.creditHistory[s].createTime=i.$pin.getFriendlyTimeText(e.data.creditHistory[s].createTime);i.creditHistory=e.data.creditHistory,i.credit=e.data.credit,i.totalCheckInDays=e.data.totalCheckInDays,i.continuousCheckInDays=e.data.continuousCheckInDays}else t.showToast({icon:"none",title:"加载签到信息失败"})},function(i){t.showToast({icon:"none",title:"加载签到信息失败，请重试"})})}}};i.default=a}).call(this,e("543d")["default"])},b0dd:function(t,i,e){"use strict";e("6a7a");var s=a(e("b0ce")),n=a(e("059f"));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(n.default))},c8b6:function(t,i,e){"use strict";e.r(i);var s=e("58b0"),n=e.n(s);for(var a in s)"default"!==a&&function(t){e.d(i,t,function(){return s[t]})}(a);i["default"]=n.a},fe49:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("view",[e("view",{staticClass:"pin-card pin-padding"},[e("view",{staticClass:"pin-card-title"},[e("i",{staticClass:"pin-icon"},[t._v("assignment_turned_in")]),t._v("每日签到")],1),e("view",{staticClass:"pin-flex"},[e("view",{staticClass:"pin-flex-sub-50 pin-text-center"},[e("view",{staticClass:"pin-primary pin-text-xxxl"},[t._v(t._s(t.credit))]),e("view",{staticClass:"pin-text-md"},[t._v("我的积分")])]),e("view",{staticClass:"pin-flex-sub-50 pin-text-center"},[e("view",{staticClass:"pin-primary"},[e("text",{staticClass:"pin-text-xxxl"},[t._v(t._s(t.continuousCheckInDays))]),e("text",{staticClass:"pin-text-xl"},[t._v("天")])]),e("view",{staticClass:"pin-text-md"},[t._v("连续签到")])])]),e("view",{staticClass:"pin-margin"},[e("view",{staticClass:"pin-button pin-bg-primary",attrs:{eventid:"933569a2-0"},on:{click:function(i){t.doCheckIn()}}},[e("i",{staticClass:"pin-icon"},[t._v("check")]),t._v("签到")],1)])]),e("view",{staticClass:"pin-card pin-padding"},[e("view",{staticClass:"pin-card-title"},[e("i",{staticClass:"pin-icon"},[t._v("edit")]),t._v("我的积分动账记录")],1),0==t.creditHistory.length?e("full-page-empty-state",{attrs:{title:"没有积分记录",description:"快签到获取积分吧",icon:"card_giftcard",radius:!0,mpcomid:"933569a2-0"}}):t._e(),t._l(t.creditHistory,function(i,s){return e("view",{key:i,staticClass:"pin-list-item"},[e("view",{staticClass:"list-left"},[e("i",{staticClass:"pin-icon"},[t._v(t._s(t.creditChangeTypes[i.type].icon))])],1),e("view",{staticClass:"list-right"},[e("view",{staticClass:"list-header"},[e("view",{staticClass:"list-title pin-text-xl pin-primary"},[t._v(t._s(i.valueChange>0?"+":"")+t._s(i.valueChange))]),e("view",{staticClass:"list-sub-title text-md pin-accent"},[t._v(t._s(i.createTime))])]),e("view",{staticClass:"list-detail"},[t._v("来自: "+t._s(t.creditChangeTypes[i.type].text))])])])})],2)])},n=[];e.d(i,"a",function(){return s}),e.d(i,"b",function(){return n})}},[["b0dd","common/runtime","common/vendor"]]]);