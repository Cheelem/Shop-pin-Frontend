(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order-list/order-list"],{"0efb":function(t,e,a){"use strict";a.r(e);var s=a("84bb"),i=a("36ad");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("d45d");var r=a("2877"),o=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=o.exports},"36ad":function(t,e,a){"use strict";a.r(e);var s=a("5357"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},5357:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("f0b6"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r=0,o=5,u={components:{"full-page-empty-state":s.default},data:function(){var t;return{headerPosition:"fixed",headerTop:"0px",typeText:{unpaid:"等待付款",back:"等待商家发货",unreceived:"商家已发货",received:"等待用户评价",completed:"交易已完成",refunds:"商品退货处理中"},orderInidividualMapByStatus:{},orderIndividualStatusNameMap:(t={},n(t,r,"待付款"),n(t,1,"待发货"),n(t,2,"已发货"),n(t,3,"待评价"),n(t,4,"已完成"),n(t,5,"售后订单"),t),orderType:["全部","待付款","待发货","待收货","待评价","退换货"],shownList:[],tabBarStatus:0,orderIndividualList:[]}},onLoad:function(t){console.log("option: "+JSON.stringify(t));var e=parseInt(t.tbIndex);this.showType(e),this.loadMyRecentOrders()},onPageScroll:function(t){},methods:{showType:function(t){this.tabBarStatus=t,this.shownList=this.orderInidividualMapByStatus[t]},parseOrderIndividuals:function(t){for(var e=0;e<t.length;e++){var a=t[e],s=a.status+1;null==this.orderInidividualMapByStatus[s]&&(this.orderInidividualMapByStatus[s]=[]),0==a.paid?(null==this.orderInidividualMapByStatus[r]&&(this.orderInidividualMapByStatus[r]=[]),this.orderInidividualMapByStatus[r].push(a)):a.status>=o?this.orderInidividualMapByStatus[o].push(a):this.orderInidividualMapByStatus[s].push(a)}},loadMyRecentOrders:function(){t.showLoading();var e=this;this.$pin.request("GET","/commons/order/order-individual/recent",null,function(a){e.orderIndividualList=a.data.orderIndividuals,e.parseOrderIndividuals(a.data.orderIndividuals),t.hideLoading()},function(e){t.hideLoading(),t.showToast({icon:"none",title:"获取订单信息失败"})})},toPayment:function(e){t.showLoading({title:"正在获取订单..."});var a=[];a.push(e),setTimeout(function(){t.setStorage({key:"paymentOrder",data:a,success:function(){t.hideLoading(),t.navigateTo({url:"../../pay/payment/payment?amount="+e.payment})}})},500)}}};e.default=u}).call(this,a("543d")["default"])},6259:function(t,e,a){"use strict";a("6a7a");var s=n(a("b0ce")),i=n(a("0efb"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},"84bb":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"top-tab-bar",style:{position:t.headerPosition,top:t.headerTop}},t._l(t.orderIndividualStatusNameMap,function(e,s,i){return a("view",{key:i,staticClass:"grid",attrs:{eventid:"2077f6f4-0-"+s},on:{tap:function(e){t.showType(s)}}},[a("view",{staticClass:"text",class:[s==t.tabBarStatus?"on":""]},[t._v(t._s(e))])])})),null==t.shownList||t.shownList.length<=0?a("view",{staticClass:"onorder"},[a("full-page-empty-state",{attrs:{title:"没有相关订单",description:"看看其它类别的订单吧",mpcomid:"2077f6f4-0"}})],1):t._e(),a("view",{staticClass:"order-list"},[a("view",{staticClass:"list"},t._l(t.shownList,function(e,s){return a("view",{key:e,staticClass:"row"},[a("view",{staticClass:"store-name"},[a("i",{staticClass:"pin-icon"},[t._v("store")]),t._v(t._s(e.store.name))],1),t._l(e.orderItems,function(e,s){return a("view",{key:e,staticClass:"order-info"},[a("view",{staticClass:"left"},[a("image",{attrs:{mode:"aspectFill",src:e.productAttributeValue.imageUrl}})]),a("view",{staticClass:"right"},[a("view",{staticClass:"name"},[t._v(t._s(e.product.name))]),a("view",{staticClass:"spec"},[t._v(t._s(e.productAttributeValue.sku))]),a("view",{staticClass:"price-number"},[t._v("￥"),a("view",{staticClass:"price"},[t._v(t._s(e.totalPrice))]),t._v("×"),a("view",{staticClass:"number"},[t._v(t._s(e.amount))])])])])}),a("view",{staticClass:"detail"},[a("view",{staticClass:"number"},[t._v("共"+t._s(e.orderItems.length)+"件商品")]),a("view",{staticClass:"sum"},[t._v("合计￥"),a("view",{staticClass:"price"},[t._v(t._s(e.totalPrice))])]),a("view",{staticClass:"nominal"},[t._v("(含运费 ￥"+t._s(e.shipppingFee)+")")])]),a("view",{staticClass:"btns"},[0==e.paid?a("block",[a("view",{staticClass:"default"},[t._v("取消订单")]),a("view",{staticClass:"pay",attrs:{eventid:"2077f6f4-1-"+s},on:{tap:function(a){t.toPayment(e)}}},[t._v("付款")])]):0===e.status?a("block",[a("view",{staticClass:"default"},[t._v("提醒发货")])]):1===e.status?a("block",[a("view",{staticClass:"default"},[t._v("查看物流")]),a("view",{staticClass:"pay"},[t._v("确认收货")]),a("view",{staticClass:"pay"},[t._v("我要退货")])]):2===e.status?a("block",[a("view",{staticClass:"default"},[t._v("评价")]),a("view",{staticClass:"default"},[t._v("再次购买")])]):3===e.status?a("block",[a("view",{staticClass:"default"},[t._v("再次购买")])]):e.type>=4?a("block",[a("view",{staticClass:"default"},[t._v("查看退款详情")])]):t._e()],1)],2)}))])])},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},"89b2":function(t,e,a){},d45d:function(t,e,a){"use strict";var s=a("89b2"),i=a.n(s);i.a}},[["6259","common/runtime","common/vendor"]]]);