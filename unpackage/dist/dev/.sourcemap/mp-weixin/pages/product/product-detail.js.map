{"version":3,"sources":["webpack:///C:/Development/NodeJS/Shop-pin-Frontend/Shop-pin-Frontend/pages/product/product-detail.vue?ef69","webpack:///C:/Development/NodeJS/Shop-pin-Frontend/Shop-pin-Frontend/pages/product/product-detail.vue?e71f","webpack:///C:/Development/NodeJS/Shop-pin-Frontend/Shop-pin-Frontend/pages/product/product-detail.vue?70ec","webpack:///C:/Development/NodeJS/Shop-pin-Frontend/Shop-pin-Frontend/pages/product/product-detail.vue?40a6","webpack:///C:/Development/NodeJS/Shop-pin-Frontend/Shop-pin-Frontend/pages/product/product-detail.vue","webpack:///C:/Development/NodeJS/Shop-pin-Frontend/Shop-pin-Frontend/pages/product/product-detail.vue?376f","webpack:///C:/Development/NodeJS/Shop-pin-Frontend/Shop-pin-Frontend/pages/product/product-detail.vue?40f3"],"names":["components","CardTitle","data","beforeHeaderzIndex","afterHeaderzIndex","beforeHeaderOpacity","afterHeaderOpacity","swiperList","currentSwiper","anchorlist","selectAnchor","serviceClass","attributeModalClass","shareClass","productAttributes","productAttributeValuesMap","productSKUStockCache","productDetail","productServices","name","description","selectedResult","sku","amount","skuString","selectedComment","attributeSelectMap","selectSpec","isKeep","descriptionStr","onLoad","option","showBack","console","log","productId","loadProductDetail","onReady","calcAnchor","onPageScroll","e","scrollTop","top","tmpY","$forceUpdate","onReachBottom","uni","showToast","title","methods","that","$pin","request","successData","code","success","product","comment","setNavigationBarTitle","push","id","img","imageUrls","parseProductAttributes","productAttributeDefinitions","productAttributeValues","message","icon","failData","pinProductAttributeDefinitions","pinProductAttributeValues","i","length","attributeName","attributeValues","split","swiperChange","event","detail","current","toMsg","navigateTo","url","toChat","toStore","storeId","share","hideShare","setTimeout","keep","toCart","switchTab","joinCart","showSpec","skuId","buy","toConfirmation","tmpList","productData","spec","price","number","setStorage","key","toComments","setSelectAttribute","selectedAttributeValue","productSKUString","tempStr","getSKUStockNum","result","j","m","items","n","stock","shift","concat","join","sub","add","toAnchor","index","pageScrollTo","duration","commentsView","createSelectorQuery","select","boundingClientRect","statusbarHeight","headerHeight","upx2px","bottom","exec","back","navigateBack","showService","hideService","fun","specCallback","hideSpec","discard"],"mappings":"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","file":"pages/product/product-detail.js","sourcesContent":["import { render, staticRenderFns } from \"./product-detail.vue?vue&type=template&id=66cf40e8&\"\nimport script from \"./product-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./product-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product-detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Standalone\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('66cf40e8', component.options)\n    } else {\n      api.reload('66cf40e8', component.options)\n    }\n    module.hot.accept(\"./product-detail.vue?vue&type=template&id=66cf40e8&\", function () {\n      api.rerender('66cf40e8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Development/NodeJS/Shop-pin-Frontend/Shop-pin-Frontend/pages/product/product-detail.vue\"\nexport default component.exports","import mod from \"-!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./product-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./product-detail.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./product-detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./product-detail.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Standalone/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./product-detail.vue?vue&type=template&id=66cf40e8&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CardTitle from '../../components/card-title.vue'\nexport default {\n\tcomponents: {\n\t\t\"card-title\": CardTitle\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t//控制渐变标题栏的参数\n\t\t\tbeforeHeaderzIndex: 11, //层级\n\t\t\tafterHeaderzIndex: 10, //层级\n\t\t\tbeforeHeaderOpacity: 1, //不透明度\n\t\t\tafterHeaderOpacity: 0, //不透明度\n\t\t\t//是否显示返回按钮\n\n\n\n\t\t\t//轮播主图数据\n\t\t\tswiperList: [],\n\t\t\t//轮播图下标\n\t\t\tcurrentSwiper: 0,\n\t\t\tanchorlist: [], //导航条锚点\n\t\t\tselectAnchor: 0, //选中锚点\n\t\t\tserviceClass: '', //服务弹窗css类，控制开关动画\n\t\t\tattributeModalClass: '', //规格弹窗css类，控制开关动画\n\t\t\tshareClass: '', //分享弹窗css类，控制开关动画\n\t\t\t// 商品信息\n\t\t\tproductAttributes: [],\n\t\t\tproductAttributeValuesMap: {},\n\t\t\tproductSKUStockCache: {},\n\t\t\tproductDetail: {},\n\t\t\tproductServices: [{\n\t\t\t\t\tname: \"正品保证\",\n\t\t\t\t\tdescription: \"此商品官方保证为正品\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"极速退款\",\n\t\t\t\t\tdescription: \"此商品享受退货极速退款服务\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"7天退换\",\n\t\t\t\t\tdescription: \"此商品享受7天无理由退换服务\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tselectedResult: {\n\t\t\t\tsku: null,\n\t\t\t\tamount: 1,\n\t\t\t\tskuString: ''\n\t\t\t},\n\t\t\tselectedComment: null,\n\t\t\tattributeSelectMap: {},\n\t\t\tselectSpec: null, //选中规格\n\t\t\tisKeep: false, //收藏 商品描述html\n\t\t\tdescriptionStr: '<div style=\"text-align:center;\"><img width=\"100%\" src=\"https://s2.ax1x.com/2019/03/28/AdOogx.jpg\"/><img width=\"100%\" src=\"https://s2.ax1x.com/2019/03/28/AdOHKK.jpg\"/><img width=\"100%\" src=\"https://s2.ax1x.com/2019/03/28/AdOTv6.jpg\"/></div>'\n\t\t};\n\t},\n\tonLoad(option) {\n\n\t\t//小程序隐藏返回按钮\n\t\tthis.showBack = false;\n\n\t\t//option为object类型，会序列化上个页面传递的参数\n\t\tconsole.log(option.productId); //打印出上个页面传递的参数\n\t\tthis.productId = option.productId\n\t\tthis.loadProductDetail(option.productId)\n\t},\n\tonReady() {\n\t\tthis.calcAnchor(); //计算锚点高度，页面数据是ajax加载时，请把此行放在数据渲染完成事件中执行以保证高度计算正确\n\t},\n\tonPageScroll(e) {\n\t\t//锚点切换\n\t\tthis.selectAnchor = e.scrollTop >= this.anchorlist[2].top ? 2 : e.scrollTop >= this.anchorlist[1].top ? 1 : 0;\n\t\t//导航栏渐变\n\t\tlet tmpY = 375;\n\t\te.scrollTop = e.scrollTop > tmpY ? 375 : e.scrollTop;\n\t\tthis.afterHeaderOpacity = e.scrollTop * (1 / tmpY);\n\t\tthis.beforeHeaderOpacity = 1 - this.afterHeaderOpacity;\n\t\t//切换层级\n\t\tthis.beforeHeaderzIndex = e.scrollTop > 0 ? 10 : 11;\n\t\tthis.afterHeaderzIndex = e.scrollTop > 0 ? 11 : 10;\n\t\tthis.$forceUpdate()\n\t},\n\t//上拉加载，需要自己在page.json文件中配置\"onReachBottomDistance\"\n\tonReachBottom() {\n\t\tuni.showToast({\n\t\t\ttitle: '触发上拉加载'\n\t\t});\n\t},\n\tmethods: {\n\t\tloadProductDetail(productId) {\n\t\t\tlet that = this\n\t\t\tthis.$pin.request('GET', '/commons/product/' + productId, null,\n\t\t\t\tsuccessData => {\n\t\t\t\t\tif (successData.code == that.$pin.code.success) {\n\t\t\t\t\t\tthat.productDetail = successData.data.product\n\t\t\t\t\t\tthat.selectedComment = successData.data.comment\n\t\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\t\ttitle: that.productDetail.name\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.swiperList.push({\n\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\timg: that.productDetail.imageUrls\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthat.parseProductAttributes(successData.data.product.productAttributeDefinitions, successData.data.product.productAttributeValues)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '加载商品出错，' + successData.message,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfailData => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '加载商品出错，请重试',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t\tparseProductAttributes(pinProductAttributeDefinitions, pinProductAttributeValues) {\n\t\t\tlet productAttributes = [];\n\t\t\tfor (let i = 0; i < pinProductAttributeDefinitions.length; i++) {\n\t\t\t\tproductAttributes.push({\n\t\t\t\t\tattributeName: pinProductAttributeDefinitions[i].attributeName,\n\t\t\t\t\tattributeValues: pinProductAttributeDefinitions[i].attributeValues.split(';')\n\t\t\t\t})\n\t\t\t\tthis.attributeSelectMap[pinProductAttributeDefinitions[i].attributeName] = null\n\t\t\t}\n\t\t\tconsole.log(productAttributes)\n\t\t\tthis.productAttributes = productAttributes\n\n\t\t\t// 生成按规格属性值map的库存数据\n\t\t\tfor (let i = 0; i < pinProductAttributeValues.length; i++) {\n\t\t\t\tthis.productAttributeValuesMap[pinProductAttributeValues[i].sku] = pinProductAttributeValues[i]\n\t\t\t}\n\t\t},\n\t\t//轮播图指示器\n\t\tswiperChange(event) {\n\t\t\tthis.currentSwiper = event.detail.current;\n\t\t},\n\t\t//消息列表\n\t\ttoMsg() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../message/messages'\n\t\t\t})\n\t\t},\n\t\t// 客服\n\t\ttoChat() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"../message/chat/chat?name=客服008\"\n\t\t\t})\n\t\t},\n\t\ttoStore(storeId) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"../store/store-index/store-index?storeId=\" + storeId\n\t\t\t})\n\t\t},\n\t\t// 分享\n\t\tshare() {\n\t\t\tthis.shareClass = 'show';\n\t\t},\n\t\thideShare() {\n\t\t\tthis.shareClass = 'hide';\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.shareClass = 'none';\n\t\t\t}, 150);\n\t\t},\n\t\t//收藏\n\t\tkeep() {\n\t\t\tthis.isKeep = this.isKeep ? false : true;\n\t\t},\n\t\ttoCart() {\n\t\t\tuni.switchTab({\n\t\t\t\turl: \"../tab-bar/cart\"\n\t\t\t})\n\t\t},\n\t\t// 加入购物车\n\t\tjoinCart() {\n\t\t\tif (this.selectedResult.sku == null || this.selectedResult.skuString == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\ttitle: \"请选择规格\"\n\t\t\t\t});\n\t\t\t\tthis.showSpec(this.joinCart)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.selectedResult.amount == null || this.selectedResult.amount <= 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t\ttitle: \"请至少选择一件商品加入购物车\"\n\t\t\t\t});\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$pin.request('POST', '/commons/order/order-item', {\n\t\t\t\t\tproductId: this.productDetail.id,\n\t\t\t\t\tskuId: this.selectedResult.sku.id,\n\t\t\t\t\tamount: this.selectedResult.amount\n\t\t\t\t},\n\t\t\t\tsuccessData => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"已加入购物车\"\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfailData => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: \"加入购物车失败，请重试\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t\t//立即购买\n\t\tbuy() {\n\t\t\tif (this.selectSpec == null) {\n\t\t\t\treturn this.showSpec(() => {\n\t\t\t\t\tthis.toConfirmation();\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.toConfirmation();\n\t\t},\n\t\t//跳转确认订单页面\n\t\ttoConfirmation() {\n\t\t\tlet tmpList = [];\n\t\t\tlet product = {\n\t\t\t\tid: this.productData.id,\n\t\t\t\timg: '../../static/img/product/p1.jpg',\n\t\t\t\tname: this.productData.name,\n\t\t\t\tspec: '规格:' + this.productData.spec[this.selectSpec],\n\t\t\t\tprice: this.productData.price,\n\t\t\t\tnumber: this.productData.number\n\t\t\t};\n\t\t\ttmpList.push(product);\n\t\t\tuni.setStorage({\n\t\t\t\tkey: 'buylist',\n\t\t\t\tdata: tmpList,\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '../order/confirmation'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//跳转评论列表\n\t\ttoComments(productId) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"./product-comments?productId=\" + productId\n\t\t\t})\n\t\t},\n\t\t//选择规格\n\t\tsetSelectAttribute(attributeName, selectedAttributeValue) {\n\t\t\tconsole.log(attributeName + '--' + selectedAttributeValue)\n\t\t\tthis.attributeSelectMap[attributeName] = selectedAttributeValue;\n\t\t\tlet productSKUString = \"\";\n\t\t\tfor (let i = 0; i < this.productAttributes.length; i++) {\n\t\t\t\tlet tempStr = this.attributeSelectMap[this.productAttributes[i].attributeName]\n\t\t\t\tif (tempStr != null) {\n\t\t\t\t\tproductSKUString += tempStr\n\t\t\t\t} else {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tif (i < this.productAttributes.length - 1) {\n\t\t\t\t\tproductSKUString += \";\"\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.getSKUStockNum(productSKUString)\n\t\t\tthis.selectedResult.skuString = productSKUString\n\t\t\tthis.selectedResult.sku = this.productAttributeValuesMap[productSKUString]\n\t\t\tthis.$forceUpdate()\n\t\t},\n\t\tgetSKUStockNum(key) {\n\t\t\tlet result = 0,\n\t\t\t\ti, j, m, items, n = [];\n\t\t\t//检查是否已计算过\n\t\t\tif (typeof this.productSKUStockCache[key] != 'undefined') {\n\t\t\t\treturn this.productSKUStockCache[key];\n\t\t\t}\n\t\t\titems = key.split(\";\");\n\t\t\t//已选择数据是最小路径，直接从已端数据获取\n\t\t\tif (items.length === this.productAttributes.length) {\n\t\t\t\treturn this.productAttributeValuesMap[key] ? this.productAttributeValuesMap[key].stock : 0;\n\t\t\t}\n\t\t\t//拼接子串\n\t\t\tfor (i = 0; i < this.productAttributes.length; i++) {\n\t\t\t\tfor (j = 0; j < this.productAttributes[i].attributeValues.length && items.length > 0; j++) {\n\t\t\t\t\tif (this.productAttributes[i].attributeValues[j] == items[0]) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (j < this.productAttributes[i].attributeValues.length && items.length > 0) {\n\t\t\t\t\t//找到该项，跳过\n\t\t\t\t\tn.push(items.shift());\n\t\t\t\t} else {\n\t\t\t\t\t// 递归分解求值\n\t\t\t\t\tfor (m = 0; m < this.productAttributes[i].attributeValues.length; m++) {\n\t\t\t\t\t\tresult += this.getSKUStockNum(n.concat(this.productAttributes[i].attributeValues[m], items).join(\";\"));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//缓存productAttributeValuesMap\n\t\t\tthis.productSKUStockCache[key] = result;\n\t\t\treturn result;\n\t\t},\n\t\t//减少数量\n\t\tsub() {\n\t\t\tif (this.selectedResult.amount <= 1) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.selectedResult.amount--\n\t\t},\n\t\t//增加数量\n\t\tadd() {\n\t\t\tlet stock = this.productAttributeValuesMap[this.selectedResult.skuString].stock\n\t\t\tif (stock == null || stock <= this.selectedResult.amount) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '已达到库存上限',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.selectedResult.amount++;\n\t\t},\n\t\t//跳转锚点\n\t\ttoAnchor(index) {\n\t\t\tthis.selectAnchor = index;\n\t\t\tuni.pageScrollTo({\n\t\t\t\tscrollTop: this.anchorlist[index].top,\n\t\t\t\tduration: 200\n\t\t\t});\n\t\t},\n\t\t//计算锚点高度\n\t\tcalcAnchor() {\n\t\t\tthis.anchorlist = [{\n\t\t\t\t\tname: '主图',\n\t\t\t\t\ttop: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '评价',\n\t\t\t\t\ttop: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '详情',\n\t\t\t\t\ttop: 0\n\t\t\t\t}\n\t\t\t]\n\t\t\tlet commentsView = uni.createSelectorQuery().select(\"#comments\");\n\t\t\tcommentsView.boundingClientRect((data) => {\n\t\t\t\tlet statusbarHeight = 0;\n\t\t\t\t//APP内还要计算状态栏高度\n\n\n\n\t\t\t\tlet headerHeight = uni.upx2px(100);\n\t\t\t\tthis.anchorlist[1].top = data.top - headerHeight - statusbarHeight;\n\t\t\t\tthis.anchorlist[2].top = data.bottom - headerHeight - statusbarHeight;\n\n\t\t\t}).exec();\n\t\t},\n\t\t//返回上一页\n\t\tback() {\n\t\t\tuni.navigateBack();\n\t\t},\n\t\t//服务弹窗\n\t\tshowService() {\n\t\t\tconsole.log('show');\n\t\t\tthis.serviceClass = 'show';\n\t\t},\n\t\t//关闭服务弹窗\n\t\thideService() {\n\t\t\tthis.serviceClass = 'hide';\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.serviceClass = 'none';\n\t\t\t}, 200);\n\t\t},\n\t\t//规格弹窗\n\t\tshowSpec(fun) {\n\t\t\tthis.attributeModalClass = 'show';\n\t\t\tthis.specCallback = fun;\n\t\t},\n\t\tspecCallback() {\n\t\t\treturn;\n\t\t},\n\t\t//关闭规格弹窗\n\t\thideSpec() {\n\t\t\tthis.attributeModalClass = 'hide';\n\t\t\tthis.joinCart()\n\t\t\t//回调\n\t\t\t// this.selectSpec && this.specCallback && this.specCallback();\n\t\t\t// this.specCallback = false;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.attributeModalClass = 'none';\n\t\t\t}, 200);\n\t\t},\n\t\tdiscard() {\n\t\t\t//丢弃\n\t\t}\n\t}\n};\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}